[[input]]
name = "start"
type = "Number"

[[input]]
name = "limit"
type = "Number"

[[output]]
name = "series"
type = "Number"

[[output]]
name = "min"
type = "Number"

[[output]]
name = "max"
type = "Number"

[[output]]
name = "done"
type = "Bool"

[[flow]]
alias = "pilte"
source = "pass_if_lte.toml"

[[function]]
alias = "add"
source = "lib://flowstdlib/math/add.toml"

[[connection]]
from = "input/start"
to = "flow/pilte/in"

# A store for the limit value that always refreshes itself, so it's value is always available
[[value]]
name = "limit_store"
type = "Number"
static = true

[[connection]]
from = "input/limit"
to = "value/limit_store"

[[connection]]
from = "value/limit_store"
to = "flow/pilte/max"

[[connection]]
from = "flow/pilte/passed"
to = "output/series"

[[connection]]
from = "flow/pilte/passed"
to = "function/add/i1"

[[value]]
name = "one"
type = "Number"
init = 1
static = true

[[connection]]
from = "value/one"
to = "function/add/i2"

[[connection]]
from = "function/add"
to = "flow/pilte/in"

[[connection]]
from = "input/start"
to = "output/min"

[[connection]]
from = "flow/pilte/blocked"
to = "output/done"

[[connection]]
from = "input/limit"
to = "output/max"