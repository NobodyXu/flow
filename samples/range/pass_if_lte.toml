flow = "pass if lte"

[[input]]
name = "in"
type = "Number"

[[input]]
name = "max"
type = "Number"

[[output]]
name = "passed"
type = "Number"

[[output]]
name = "blocked"
type = "Bool"

[[output]]
name = "control"
type = "Number"

[[function]]
alias = "tap"
source = "lib://flowstdlib/control/tap.toml"

[[function]]
alias = "compare"
source = "lib://flowstdlib/control/compare.toml"

[[connection]]
from = "input/in"
to = "function/tap/data"

[[connection]]
from = "input/in"
to = "function/compare/left"

[[connection]]
from = "input/max"
to = "function/compare/right"

[[connection]]
from = "function/compare/lte"
to = "function/tap/control"

[[connection]]
from = "function/tap"
to = "output/passed"

[[connection]]
from = "function/compare/gt"
to = "output/blocked"

[[connection]]
from = "input/max"
to = "output/control"