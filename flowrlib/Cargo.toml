[package]
name = "flowrlib"
version = "0.7.0"
authors = ["Andrew Mackenzie <andrew@mackenzie-serres.net>"]
description = "The runtime library for executing 'flow' programs compiled with the 'flowc' compiler"
license = "MIT"

[lib]
name = "flowrlib"
path = "src/lib.rs"

test = true
doctest = true
bench = true
doc = true

[profile.dev]
panic = "unwind"

[profile.release]
panic = "unwind"

[features]
default = ["debugger", "metrics", "logging"]
metrics = []
debugger = []
logging = []

[dependencies]
# A std::Instant compatible crate that also supports wasm
instant = { version = "0.1", features = [ "now", "wasm-bindgen" ] }
multimap = "~0.5"
log = "0.4.6"
serde_derive = "~1.0.27"
serde = "~1.0.27"
serde_json = "1.0"

[target.'cfg(not(target_arch = "wasm32"))'.dependencies]
wasmi = { git = "https://github.com/andrewdavidmackenzie/wasmi" }